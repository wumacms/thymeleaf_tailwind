# 数据库连接说明

## 错误：Access denied for user 'root'@'192.168.65.1'

表示 MySQL 拒绝了从主机 `192.168.65.1` 用 `root` 登录（常见于本机通过 Docker 或虚拟机连 MySQL 时，MySQL 只允许 `root@localhost`）。

### 解决方式

在 MySQL 里执行（把 `admin123` 换成你实际使用的 root 密码）：

**方式一：允许 root 从任意主机连接（仅开发环境建议）**

```sql
CREATE USER IF NOT EXISTS 'root'@'%' IDENTIFIED BY 'admin123';
GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' WITH GRANT OPTION;
FLUSH PRIVILEGES;
```

**方式二：只允许当前出现的主机 192.168.65.1**

```sql
CREATE USER IF NOT EXISTS 'root'@'192.168.65.1' IDENTIFIED BY 'admin123';
GRANT ALL PRIVILEGES ON *.* TO 'root'@'192.168.65.1' WITH GRANT OPTION;
FLUSH PRIVILEGES;
```

执行前请先：

1. 用能连上的方式登录 MySQL（例如本机：`mysql -u root -p`，或 Docker：`docker exec -it <mysql容器名> mysql -u root -p`）。
2. 确认已创建数据库：`CREATE DATABASE IF NOT EXISTS chatflow_cms ...;` 并执行过项目里的 `src/main/sql/sql.sql` 建表。

### 本地覆盖配置（可选）

不想在仓库里写真实密码时，可复制示例并改为本地配置：

```bash
cp src/main/resources/application-local.properties.example src/main/resources/application-local.properties
# 编辑 application-local.properties，填入 spring.datasource.password=你的密码
```

`application-local.properties` 已在 `.gitignore` 中，不会提交。
